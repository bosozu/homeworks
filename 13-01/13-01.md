# Домашнее задание к занятию «Уязвимости и атаки на информационные системы».Щербаков А.А

------

## Задание 1

Скачайте и установите виртуальную машину Metasploitable: <https://sourceforge.net/projects/metasploitable/>.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя **nmap**.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте <https://www.exploit-db.com/>.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

1. Какие сетевые службы в ней разрешены?

   Вот некоторые службы которые разрешены на этом сервере:
   - FTP (21/tcp): vsftpd 2.3.4
   - ISC BIND (53/tcp): bind 9.4.2
   - UnrealIRCd (6667/tcp): Unreal3.2.8.1
   - OpenSSH (22/tcp): 4.7p-1

2. Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
  
   - FTP (21/tcp): vsftpd 2.3.4
   <https://www.exploit-db.com/exploits/49757> vsftpd 2.3.4 - Backdoor Command Execution
   эксплойт позволяет выполнять исполняющий код на удаленной машине

   - ISC BIND (53/tcp): bind 9.4.2
   <https://www.exploit-db.com/exploits/6122> Remote DNS Cache Poisoning (Metasploit)
   Этот эксплойт нацелен на довольно распространенный недостаток в реализациях DNS, которые позволяют вставлять вредоносные записи DNS в кэш целевого сервера имен. Этот эксплойт кэширует одну вредоносную запись сервера имен в целевом сервере имен, которая заменяет законные серверы имен для целевого домена. Заставляя целевой сервер имен запрашивать случайные имена хостов в целевом домене, злоумышленник может подделать ответ целевому серверу, включающий ответ на запрос, запись сервера полномочий и дополнительную запись для этого сервера, заставляя целевой сервер имен вставлять дополнительную запись в кэш. Эта вставка полностью заменяет исходные записи сервера имен для целевого домена.

   - UnrealIRCd (6667/tcp)
   <https://www.exploit-db.com/exploits/13853> Remote Downloader/Execute
   эксплойт позволяет выполнять исполняющий код на удаленной машине

## Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

1. Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?

   SYN-сканирование
   nmap -sS 192.168.0.118
   Сетевой трафик: отправляются пакеты SYN, и если порт открыт, сервер отвечает пакетом SYN/ACK; если порт закрыт — RST.
   Ответы сервера: открытые порты отвечают SYN/ACK, закрытые порты отвечают RST. Это делает SYN-сканирование быстрым и эффективным.
   FIN-сканирование
   nmap -sF 192.168.0.118
   Сетевой трафик: отправляются FIN-пакеты, не пытаясь установить соединение.
   Ответы сервера: открытые порты не отвечают, что затрудняет обнаружение; закрытые порты отправляют RST. Этот метод иногда обходится мимо межсетевых экранов, которые ожидают SYN.

   Xmas-сканирование
   nmap -sX 192.168.0.118
   Сетевой трафик: отправляются пакеты с установленными флагами FIN, PSH, и URG.
   Ответы сервера: аналогично FIN-сканированию, открытые порты не отвечают, закрытые порты отвечают RST. Этот тип сканирования тоже может обходить фильтры.

   UDP-сканирование
   nmap -sU 192.168.0.118
   Сетевой трафик: отправляются пустые UDP-пакеты на каждый порт.
   Ответы сервера: открытые порты не отвечают, закрытые порты могут отправлять ICMP-сообщения "Destination Unreachable - Port Unreachable". UDP-сканирование медленнее из-за задержек между пакетами.

   Отличия в трафике:

   SYN-сканирование использует трехэтапный процесс и получает быстрые ответы, эффективный для TCP-сканирования.
   FIN и Xmas посылают пакеты, на которые открытые порты не реагируют, что затрудняет обнаружение сканирования.
   UDP-сканирование медленное, требует больше времени из-за того, что открытые порты молчат, и в основном отвечает только ICMP-ошибками для закрытых портов.

2. Как отвечает сервер?

   - SYN: SYN/ACK от открытых портов, RST от закрытых.
   - FIN и Xmas: нет ответа от открытых портов, RST от закрытых.
   - UDP: ICMP-ответы для закрытых портов, молчание для открытых.
